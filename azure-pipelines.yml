pool:
  vmImage: "ubuntu-16.04"

trigger:
- master

steps:
- task: geeklearningio.gl-vsts-tasks-yarn.yarn-task.Yarn@2
  displayName: 'Yarn'

- task: geeklearningio.gl-vsts-tasks-yarn.yarn-task.Yarn@2
  displayName: 'Run linting'
  inputs:
    Arguments: 'test:lint'

- task: geeklearningio.gl-vsts-tasks-yarn.yarn-task.Yarn@2
  displayName: 'Run e2e tests'
  inputs:
    Arguments: 'test:e2e:ci'
  env:
    CYPRESS_RECORD_KEY: $(CYPRESS_RECORD_KEY)

